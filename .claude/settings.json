{
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python E:\\Python\\Projekty\\Kalahari\\.claude\\hooks\\validate_triggers.py"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo [SESSION START] && if exist E:\\Python\\Projekty\\Kalahari\\.claude\\session-state.json (echo Session state found. Consider running /load-session to restore context.) else (echo No saved session found.)"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo === SESSION END === && echo Remember to use /save-session before leaving! && echo Session ended at: %date% %time%"
          }
        ]
      }
    ],
    "SubagentStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "type E:\\Python\\Projekty\\Kalahari\\.claude\\context\\project-brief.txt 2>nul || echo Kalahari | C++20 + Qt6 | Build: scripts/build_windows.bat Debug"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "echo %date% %time%|%CLAUDE_AGENT_ID%|complete >> E:\\Python\\Projekty\\Kalahari\\.claude\\logs\\agents.log"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash(git commit*)",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before commit, verify:\n1. CHANGELOG.md has entry in [Unreleased]?\n2. ROADMAP.md updated if new feature?\n3. OpenSpec status current?\n4. No TODO in staged files?\n\nReturn JSON:\n{\"decision\": \"approve\"} or\n{\"decision\": \"block\", \"reason\": \"...\"}",
            "model": "haiku",
            "timeout": 30000
          }
        ]
      }
    ]
  },
  "env": {
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "64000",
    "MAX_THINKING_TOKENS": "31999"
  }
}
